table(df$ODDRUGN, useNA = "ifany") #Fentanyl or drugs w/fentanyl
#WOD6M: Witnessed an overdose in the last 6 months
#In the last 6 months, have you witnessed a heroin or opiate overdose?
tbl.WOD6M <- table(df$WOD6M, useNA = "ifany")
tbl.WOD6M
prop.table(tbl.WOD6M)
#WODX6M: Number of witnessed overdoses in the last 6 months
#In the last 6 months, how many heroin or opiate overdoses have you witnessed?
tbl.WODX6M <- table(df$WODX6M, useNA = "ifany")
tbl.WODX6M
prop.table(tbl.WODX6M)
#NARCAN: More than one dose of narcan to revive person
#Of the overdoses you witnessed where naloxone was used, did any of them require more than
#one dose to revive the person to the best of your knowledge?
tbl.NARCAN <- table(df$NARCAN, useNA = "ifany")
tbl.NARCAN
prop.table(tbl.NARCAN)
#RIGID: Rigidty or seizures during the overdose
#During the overdose(s) that you witnessed, did any one of the victims have immediate body
#rigidity or seizures?
tbl.RIGID <- table(df$RIGID, useNA = "ifany")
tbl.RIGID
prop.table(tbl.RIGID)
#IMMED: Any immediate overdoses
#Of the overdoses you witnessed, did any of the victims overdose immediately or shortly
#after taking their shot?
tbl.IMMED <- table(df$IMMED, useNA = "ifany")
tbl.IMMED
prop.table(tbl.IMMED)
#USEDNAL: Times naloxone used by bystander to prevent overdose in the last 30 days
#In the last 6 months, how many of these witnessed overdoses did you or someone else
#who was not an EMT or police officer use naloxone or narcan?
tbl.USEDNAL <- table(df$USEDNAL, useNA = "ifany")
tbl.USEDNAL
prop.table(tbl.USEDNAL)
#OD911: Number of witnessed od where 911 was called in the last 30 days
#In the last 6 months, how many of these witnessed overdoses did you or someone else call 911?
tbl.OD911 <- table(df$OD911, useNA = "ifany")
tbl.OD911
prop.table(tbl.OD911)
#ODTRAIN: Have you ever participated in overdose prevention training?
#Have you ever participated in overdose prevention training?
tbl.ODTRAIN <- table(df$ODTRAIN, useNA = "ifany")
tbl.ODTRAIN
prop.table(tbl.ODTRAIN)
#ODTBY: OD training from whom
#From whom did you receive overdose prevention training?
table(df$ODTBY, useNA = "ifany")
table(df$ODTBYA, useNA = "ifany") #Needle exchange
table(df$ODTBYB, useNA = "ifany") #Another drug user
table(df$ODTBYC, useNA = "ifany") #Another community member
table(df$ODTBYD, useNA = "ifany") #A family member
table(df$ODTBYE, useNA = "ifany") #Pharmacy
table(df$ODTBYF, useNA = "ifany") #Community clinic
table(df$ODTBYG, useNA = "ifany") #Hospital
table(df$ODTBYH, useNA = "ifany") #Jail or prison
table(df$ODTBYI, useNA = "ifany") #Other
#ODTOTH:Overdose training by other organization
#What is the other organization or entity that provided you with overdose training?
tbl.ODTOTH <- table(df$ODTOTH, useNA = "ifany")
tbl.ODTOTH
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
tbl.NALEVER <- table(df$NALEVER, useNA = "ifany")
tbl.NALEVER
prop.table(tbl.NALEVER)
#NAL6MOS: Received naloxone in the last 6 months
#Have you received naloxone in the last 6 months?
tbl.NAL6MOS <- table(df$NAL6MOS, useNA = "ifany")
tbl.NAL6MOS
prop.table(tbl.NAL6MOS)
#NAL6ORG: Naloxone from whom in the last 6 months
#From whom did you receive naloxone, narcan, intranasal narcan, and/or autoinjector/evzio in the last 6 months?
table(df$NAL6ORG, useNA = "ifany")
table(df$NAL6ORGA, useNA = "ifany") #Needle exchange
table(df$NAL6ORGB, useNA = "ifany") #Another drug user
table(df$NAL6ORGC, useNA = "ifany") #Another community member
table(df$NAL6ORGD, useNA = "ifany") #A family member
table(df$NAL6ORGE, useNA = "ifany") #Pharmacy
table(df$NAL6ORGF, useNA = "ifany") #Community clinic
table(df$NAL6ORGG, useNA = "ifany") #Hospital
table(df$NAL6ORGH, useNA = "ifany") #Jail or prison
table(df$NAL6ORGI, useNA = "ifany") #Other
#OTHNORG: Other organization that provided naloxone in the last 6 months
#What is the other organization or entity that provided you with naloxone in the last 6 months?
table(df$OTHNORG, useNA = "ifany")
#NALUSED:Used naloxone in the last 6 months
#Have you used your Naloxone in the last 6 months?
tbl.NALUSED <- table(df$NALUSED, useNA = "ifany")
tbl.NALUSED
prop.table(tbl.NALUSED)
#NALOSE: Lost naloxone in the last 6 months
#Have you lost your Naloxone in the last 6 months?
tbl.NALOSE <- table(df$NALOSE, useNA = "ifany")
tbl.NALOSE
prop.table(tbl.NALOSE)
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
table(df$NALUSED, df$NALOSE, useNA = "ifany")
df$NALUSEandorLOSE <- ifelse((df$NALUSED=="Yes" | df$NALOSE=="Yes"), 1, 0)
tbl.NALUSEandorLOSE <- table(df$NALUSEandorLOSE, useNA = "ifany")
tbl.NALUSEandorLOSE
prop.table(tbl.NALUSEandorLOSE)
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
tbl.NALFILL <- table(df$NALFILL, useNA = "ifany")
tbl.NALFILL
prop.table(tbl.NALFILL)
#TMEFILL: Days it took to refill or replace naloxone.
#How long after using or losing your Naloxone, did you get a replacement or refill?
tbl.TMEFILL <- table(df$TMEFILL, useNA = "ifany")
tbl.TMEFILL
prop.table(tbl.TMEFILL)
#NALPRVD: Who provided the naloxone replacement or refill
#From whom did you receive your naloxone replacement or refill?
table(df$NALPRVD, useNA = "ifany")
table(df$NALPRVDA, useNA = "ifany") #Needle exchange
table(df$NALPRVDB, useNA = "ifany") #Another drug user
table(df$NALPRVDC, useNA = "ifany") #Another community member
table(df$NALPRVDD, useNA = "ifany") #A family member
table(df$NALPRVDE, useNA = "ifany") #Pharmacy
table(df$NALPRVDF, useNA = "ifany") #Community clinic
table(df$NALPRVDG, useNA = "ifany") #Hospital
table(df$NALPRVDH, useNA = "ifany") #Jail or prison
table(df$NALPRVDI, useNA = "ifany") #Other
#OTHPRON: Replacement naloxone provided by what other organization
#What is the other organization or entity that provided you with naloxone dose replacement or refill?
table(df$OTHPRON, useNA = "ifany") #Other
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
tbl.NALOWN <- table(df$NALOWN, useNA = "ifany")
tbl.NALOWN
prop.table(tbl.NALOWN)
#NALAVAIL: Naloxone available
#In the last 6 months, when you injected drugs, how often did you or someone else around you have naloxone in the event of an overdose?
tbl.NALAVAIL <- table(df$NALAVAIL, useNA = "ifany")
tbl.NALAVAIL
prop.table(tbl.NALAVAIL)
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
tbl.NALEVER
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
tbl.NALOWN
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
tbl.NALUSEandorLOSE
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
tbl.NALFILL
df_SF <- subset(df, LOCALID == "San Francisco")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_SF$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_SF$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_SF$NALUSEandorLOSE <- ifelse((df_SF$NALUSED=="Yes" | df_SF$NALOSE=="Yes"), 1, 0)
table(df_SF$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_SF$NALFILL, useNA = "ifany")
df_LA <- subset(df, LOCALID == "Los Angeles")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_LA$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_LA$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_LA$NALUSEandorLOSE <- ifelse((df_LA$NALUSED=="Yes" | df_LA$NALOSE=="Yes"), 1, 0)
table(df_LA$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_LA$NALFILL, useNA = "ifany")
df_men <- subset(df, GENDER == "Male")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_men$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_men$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_men$NALUSEandorLOSE <- ifelse((df_men$NALUSED=="Yes" | df_men$NALOSE=="Yes"), 1, 0)
table(df_men$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_men$NALFILL, useNA = "ifany")
df_women <- subset(df, GENDER == "Female")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_women$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_women$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_women$NALUSEandorLOSE <- ifelse((df_women$NALUSED=="Yes" | df_women$NALOSE=="Yes"), 1, 0)
table(df_women$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_women$NALFILL, useNA = "ifany")
df_unhoused <- subset(df, HOMELESS == "Yes")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_unhoused$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_unhoused$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_unhoused$NALUSEandorLOSE <- ifelse((df_unhoused$NALUSED=="Yes" | df_unhoused$NALOSE=="Yes"), 1, 0)
table(df_unhoused$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_unhoused$NALFILL, useNA = "ifany")
df_housed <- subset(df, HOMELESS == "No")
#NALEVER: Ever received naloxone
#Have you ever received naloxone (including narcan, intranasal narcan, and/or autoinjector
#of naloxone to use on yourself or other people?
table(df_housed$NALEVER, useNA = "ifany")
#NALOWN: Own a dose of naloxone
#Do you currently have at least one dose of naloxone? (By this, we mean you possess
#or own your own naloxone dose)
table(df_housed$NALOWN, useNA = "ifany")
#NALUSEandorLOSE: Have you used and/or used your naloxone in the last 6 months?
df_housed$NALUSEandorLOSE <- ifelse((df_housed$NALUSED=="Yes" | df_housed$NALOSE=="Yes"), 1, 0)
table(df_housed$NALUSEandorLOSE, useNA = "ifany")
#NALFILL: Got a refill of naloxone in the last 6 months
#After using or losing your naloxone, did you get a replacement or refill?
table(df_housed$NALFILL, useNA = "ifany")
View(df.labels)
#homelessness
table(df$HOMELESS, useNA = "ifany")
#sex
table(df$GENDER, useNA = "ifany")
#age
table(df$AGE, useNA = "ifany")
#education
table(df$ED, useNA = "ifany")
#homelessness
table(df$HOMELESS, useNA = "ifany")
#incarceration (JAIL: Any jail in the last 6 months)
table(df$JAIL, useNA = "ifany")
#personal overdose history (Overdosed in the last 6 months)
table(df$ODP6M, useNA = "ifany")
#overdoses witnessed (witnessed an overdose in the last 6 months)
table(df$WOD6M, useNA = "ifany")
#overdoses witnessed (witnessed an overdose in the last 6 months)
table(df$WOD6M, useNA = "ifany")
#personal overdose history (Overdosed in the last 6 months)
table(df$ODP6M, useNA = "ifany")
table(df$HER30, useNA = "ifany")
#users of certain drugs
#crack injection
table(df$CRKINJ, useNA = "ifany")
table(df$CCINJ, useNA = "ifany") ##powder cocaine injection
table(df$STINJ, useNA = "ifany") #prescription stimulant injection
table(df$HRINJ, useNA = "ifany") #heroin injection
table(df$OPINJ, useNA = "ifany") #NMPO injection
#any stimulant injection (composite)
df$ANYSTIM <- ifelse(df$CRKINJ=="Yes" | df$CCINJ=="Yes" | df$MTINJ=="Yes" | df$STINJ=="Yes", 1, ifelse(df$CRKINJ=="No" & df$CCINJ=="No" & df$MTINJ=="No" & df$STINJ=="No", 0, NA))
table(df$ANYSTIM, useNA = "ifany")
#any stimulant injection (composite)
df$ANYSTIMINJ <- ifelse(df$CRKINJ=="Yes" | df$CCINJ=="Yes" | df$MTINJ=="Yes" | df$STINJ=="Yes", 1, ifelse(df$CRKINJ=="No" & df$CCINJ=="No" & df$MTINJ=="No" & df$STINJ=="No", 0, NA))
table(df$ANYSTIMINJ, useNA = "ifany")
#any opioid injection (composite)
df$ANYOPIATEINJ <- ifelse(df$HRINJ=="Yes" | df$OPINJ=="Yes", 1, ifelse(df$HRINJ=="No" & df$OPINJ=="No", 0, NA))
table(df$ANYOPIATEINJ, useNA = "ifany")
class(df$GENDER)
class(df$ED)
class(df$HOMELESS)
class(df$JAIL)
class(df$ANYSTIMINJ)
class(df$ANYOPIATEINJ)
class(df$WOD6M)
class(df$ODP6M)
df$ANYSTIMINJ <- as.factor(df$ANYSTIMINJ)
table(df$ANYSTIMINJ, useNA = "ifany")
class(df$ANYSTIMINJ)
df$ANYOPIATEINJ <- as.factor(df$ANYOPIATEINJ)
table(df$ANYOPIATEINJ, useNA = "ifany")
class(df$ANYOPIATEINJ)
# Identify the variables of interest
myVars <- c("GENDER","AGE","ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Specify which of the variables are categorical
catVars <- c("GENDER", "ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Create an overall table 1
table1.overall <- CreateTableOne(vars= myVars,
data= df,
factorVars = catVars)
library(tableone)
# Identify the variables of interest
myVars <- c("GENDER","AGE","ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Specify which of the variables are categorical
catVars <- c("GENDER", "ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Create an overall table 1
table1.overall <- CreateTableOne(vars= myVars,
data= df,
factorVars = catVars)
# Create a table 1 stratified by smoking
table1 <- CreateTableOne(vars=myVars,
data=df,
factorVars = catVars)
print(table1, showAllLevels = TRUE, missing = TRUE)
# Create a table 1 stratified by NALEVER
table1 <- CreateTableOne(vars=myVars,
data=df,
factorVars = catVars,
strata="NALEVER")
print(table1, showAllLevels = TRUE, missing = TRUE)
table(df$NALEVER)
table(df$NALEVER, useNA = "ifany")
table(df$NALOWN, useNA = "ifany")
table(df$NALEVER, df$NALOWN, useNA = "ifany"))
table(df$NALEVER, df$NALOWN, useNA = "ifany")
df_EVERRECEIVEDNAL <- subset(df, NALEVER == "Yes")
table(df_EVERRECEIVEDNAL$NALOWN, useNA = "ifany")
76+188
387-76-188
table(df$NAL6MOS, useNA = "ifany")
table(df$NALEVER, useNA = "ifany")
table(df_EVERRECEIVEDNAL$NALOWN)
# Create a table 1 stratified by currently owning naloxone  (1 = ever received, currently own / 0 = ever received, don't currently own)
table1byNALOWN <- CreateTableOne(vars=myVars,
data=df_EVERRECEIVEDNAL,
factorVars = catVars,
strata="NALOWN")
print(table1byNALOWN, showAllLevels = TRUE, missing = TRUE)
#sex
table(df$GENDER, useNA = "ifany")
#gender (combine other and transgender into other so 3 cat variable)
table(df$GENDER, useNA = "ifany")
df$GENDER <- df$GENDER %>% fct_collapse("Other" = c("Transgender","Other"))
library(forcats)
df$GENDER <- df$GENDER %>% fct_collapse("Other" = c("Transgender","Other"))
table(df$GENDER, useNA = "ifany")
View(df.labels)
table(df$agecat)
myVars <- c("GENDER","agecat","ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Specify which of the variables are categorical
catVars <- c("GENDER", "agecat", "ED","HOMELESS", "JAIL", "ANYSTIMINJ", "ANYOPIATEINJ", "WOD6M", "ODP6M")
# Create an overall table 1
table1.overall <- CreateTableOne(vars= myVars,
data= df,
factorVars = catVars)
# Create a table 1 stratified by ever receiving naloxone (1 = ever received, 0 = never received)
table1byNALEVER <- CreateTableOne(vars=myVars,
data=df,
factorVars = catVars,
strata="NALEVER")
print(table1byNALEVER, showAllLevels = TRUE, missing = TRUE)
table(df$agecat, useNA = "ifany")
#education (High school education or more)
table(df$ED, useNA = "ifany")
#incarceration (Any jail in the last 6 months)
table(df$JAIL, useNA = "ifany")
table(df$GENDER, useNA = "ifany")
table(df$agecat, useNA = "ifany") #(<30, 30 to 39, 40-49, 50 or more) MAY WANT TO RECUT THESE MYSELF
#education (High school education or more)
table(df$ED, useNA = "ifany")
#homelessness (Consider Self Homeless)
table(df$HOMELESS, useNA = "ifany")
#incarceration (Any jail in the last 6 months)
table(df$JAIL, useNA = "ifany")
table(df$ANYSTIMINJ, useNA = "ifany")
table(df$ANYOPIATEINJ, useNA = "ifany")
#overdoses witnessed (witnessed an overdose in the last 6 months)
table(df$WOD6M, useNA = "ifany")
#personal overdose history (Overdosed in the last 6 months)
table(df$ODP6M, useNA = "ifany")
print(table1byNALEVER, showAllLevels = TRUE, missing = TRUE)
print(table1byNALEVER, showAllLevels = TRUE, missing = FALSE)
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial(link="log"))
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial(link="log"))
class(df$GENDER)
class(df$agecat)
class(df$ED)
class(df$HOMELESS)
class(df$JAIL)
class(df$ANYSTIMINJ)
class(df$ANYOPIATEINJ)
class(df$WOD6M)
class(df$ODP6M)
? glm
fit.nalever <- glm(NALEVER ~ (GENDER) + (agecat) + (ED), (HOMELESS) + (JAIL) + (ANYSTIMINJ) + (ANYOPIATEINJ) + (WOD6M) + (ODP6M), data=df, family=binomial(link="log"))
fit.nalever <- glm(NALEVER ~ GENDER + agecat + ED, HOMELESS + JAIL + ANYSTIMINJ + ANYOPIATEINJ + WOD6M + ODP6M, data=df, family=binomial(link="log"))
fit.nalever <- glm(NALEVER ~ GENDER, data=df, family=binomial(link="log"))
fit.nalever <- glm(NALEVER ~ factor(GENDER), data=df, family=binomial(link="log"))
test <- glm(NALEVER ~ GENDER, data=df, family=binomial(link="log"))
test2 <- glm(NALEVER ~ factor(GENDER), data=df, family=binomial(link="log"))
test
test2
glm(NALEVER ~ factor(GENDER), data=df, family=binomial(link="log"))
summary(genderbynalever)
genderbynalever <- glm(NALEVER ~ factor(GENDER), data=df, family=binomial(link="log"))
summary(genderbynalever)
agebynalever <- glm(NALEVER ~ factor(agecat), data=df, family=binomial(link="log"))
agebynalever <- glm(NALEVER ~ agecat, data=df, family=binomial(link="log"))
glm(NALEVER ~ factor(GENDER), data=df, family=binomial, link="log")
glm(NALEVER ~ factor(GENDER), data=df, family=binomial(link="log"))
glm(NALEVER ~ factor(GENDER), data=df, family=binomial)
#GENDER
genderbynalever <- glm(NALEVER ~ factor(GENDER), data=df, family=binomial)
summary(genderbynalever)
#agecat
agebynalever <- glm(NALEVER ~ factor(agecat), data=df, family=binomial)
summary(agebynalever)
exp(-1.0371)
#ED
edbynalever <- glm(NALEVER ~ factor(ED), data=df, family=binomial)
summary(edbynalever)
exp(0.6688)
#HOMELESS
homelessbynalever <- glm(NALEVER ~ factor(HOMELESS), data=df, family=binomial)
summary(homelessbynalever)
#JAIL
jailbynalever <- glm(NALEVER ~ factor(JAIL), data=df, family=binomial)
summary(jailbynalever)
exp(0.8769)
#ANYSTIMINJ
anystimbynalever <- glm(NALEVER ~ factor(ANYSTIMINJ), data=df, family=binomial)
summary(anystimbynalever)
EXP(0.3985)
exp(0.3985)
#ANYOPIATEINJ
anyopiatebynalever <- glm(NALEVER ~ factor(ANYOPIATEINJ), data=df, family=binomial)
summary(anyopiatebynalever)
#WOD6M
ODwitness6mobynalever <- glm(NALEVER ~ factor(WOD6M), data=df, family=binomial)
summary(ODwitness6mobynalever)
ODself6mobynalever <- glm(NALEVER ~ factor(ODP6M), data=df, family=binomial)
summary(ODself6mobynalever)
#multivariate model
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
#multivariate model (no gender)
fit.nalever <- glm(NALEVER ~  factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
#multivariate model
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
levels(df$GENDER)
levels(df$agecat)
levels(df$ED)
levels(df$HOMELESS)
levels(df$JAIL)
levels(df$ANYSTIMINJ)
levels(df$ANYOPIATEINJ)
levels(df$WOD6M)
levels(df$ODP6M)
View(df.labels)
df$ANYSTIMINJ <- ifelse(df$CRKINJ=="Yes" | df$CCINJ=="Yes" | df$MTINJ=="Yes" | df$STINJ=="Yes", "Yes", ifelse(df$CRKINJ=="No" & df$CCINJ=="No" & df$MTINJ=="No" & df$STINJ=="No", "No", NA))
df$ANYSTIMINJ <- as.factor(df$ANYSTIMINJ)
#any opioid injection (composite)
df$ANYOPIATEINJ <- ifelse(df$HRINJ=="Yes" | df$OPINJ=="Yes", "Yes", ifelse(df$HRINJ=="No" & df$OPINJ=="No", "No", NA))
df$ANYOPIATEINJ <- as.factor(df$ANYOPIATEINJ)
#multivariate model
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED), factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
#multivariate model
fit.nalever <- glm(NALEVER ~ factor(GENDER) + factor(agecat) + factor(ED) + factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
summary(fit.nalever)
#city
table(df$LOCALID, useNA = "ifany")
class(df$LOCALID)
summary(localIDbynalever)
#CITY
localIDbynalever <- glm(NALEVER ~ factor(LOCALID), data=df, family=binomial)
summary(localIDbynalever)
#multivariate model
fit.nalever <- glm(NALEVER ~ factor(LOCALID) + factor(GENDER) + factor(agecat) + factor(ED) + factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
summary(fit.nalever)
#CITY
localIDbynalever <- glm(NALEVER ~ factor(LOCALID), data=df, family=binomial)
summary(localIDbynalever)
#GENDER
genderbynalever <- glm(NALEVER ~ factor(GENDER), data=df, family=binomial)
summary(genderbynalever)
#agecat
agebynalever <- glm(NALEVER ~ factor(agecat), data=df, family=binomial)
summary(agebynalever)
#ED
edbynalever <- glm(NALEVER ~ factor(ED), data=df, family=binomial)
summary(edbynalever)
#HOMELESS
homelessbynalever <- glm(NALEVER ~ factor(HOMELESS), data=df, family=binomial)
summary(homelessbynalever)
#JAIL
jailbynalever <- glm(NALEVER ~ factor(JAIL), data=df, family=binomial)
summary(jailbynalever)
#ANYSTIMINJ
anystimbynalever <- glm(NALEVER ~ factor(ANYSTIMINJ), data=df, family=binomial)
summary(anystimbynalever)
#ANYOPIATEINJ
anyopiatebynalever <- glm(NALEVER ~ factor(ANYOPIATEINJ), data=df, family=binomial)
summary(anyopiatebynalever)
#WOD6M
ODwitness6mobynalever <- glm(NALEVER ~ factor(WOD6M), data=df, family=binomial)
summary(ODwitness6mobynalever)
#ODP6M
ODself6mobynalever <- glm(NALEVER ~ factor(ODP6M), data=df, family=binomial)
summary(ODself6mobynalever)
fit.nalever <- glm(NALEVER ~ factor(LOCALID) + factor(GENDER) + factor(agecat) + factor(ED) + factor(HOMELESS) + factor(JAIL) + factor(ANYSTIMINJ) + factor(ANYOPIATEINJ) + factor(WOD6M) + factor(ODP6M), data=df, family=binomial)
summary(fit.nalever)
